<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Maile123のBlog</title>
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Text:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="paper.css">
    <link rel="icon" href="bitbug_favicon.ico" type="image/x-icon">
</head>

<body>
    <!-- 页头 -->
    <header>
        <h1>Maile123のBlog</h1>
        <p>分享技术、生活与思考</p>
        <nav>
            <a href="#about">关于我</a>
            <a href="#posts">博客文章</a>
            <a href="#projects">项目</a>
            <a href="#contact">联系我</a>
        </nav>
    </header>

    <!-- 主要内容 -->
    <div class="container">
        <img src="makoEat.jpg" alt="图片" class="post-image" width="50" height="50">
        <div class="post-meta">
            <span>作者: Maile123</span>
            <span>发布日期: 2024年9月18日</span>
            <h2>线段树</h2>
        </div>

        <div class="content">
            <p>线段树是算法竞赛中常用的用来维护区间信息的数据结构。线段树可以在 O(log N) 的时间复杂度内实现单点修改、区间修改、区间查询等操作。</p>

            <h3>代码实现</h3>
            <pre class="apple-code-block">
                <code>
                    #include<iostream>
                    #include<algorithm>
                    #include<string.h>
                    #include<queue>
                    #include<vector>
                    using namespace std;
                    using ll = long long;
                    const int N = 2e5 + 9;
                    ll a[N];
                    int n,m;
                    ll t[N << 2]; 
                    ll lz[N << 2]; 
                    void pushup(int o) { t[o]=t[o << 1] + t[o << 1 | 1]; }
                    void buildTree(int s=1, int e=n, int o=1) {
                        if (s==e) { t[o]=a[s]; return; }
                        int mid=(s + e)>> 1;
                        buildTree(s, mid, o << 1);
                        buildTree(mid + 1, e, o << 1 | 1);
                        pushup(o); 
                    }
                    // More code...
                    int main() { 
                        cin >> n >> m; 
                        for (int i = 1; i <= n; i++) cin >> a[i];
                        buildTree(); 
                        while (m--) {
                            int op; cin >> op;
                            if (op == 1) {
                                int x, y, k; cin >> x >> y >> k;
                                add(x, y, k);
                            }
                            if (op == 2) {
                                int x, y; cin >> x >> y;
                                cout << query(x, y) << '\n'; 
                            } 
                        } 
                    }
                </code>
            </pre>
        </div>
    </div>

    <!-- 页脚 -->
    <footer>
        <p>&copy; 2024 Maile123のBlog | Designed by Maile123</p>
    </footer>
</body>

</html>